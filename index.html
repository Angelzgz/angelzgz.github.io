<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Eléctrica - Portal de Vehículos Eléctricos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(to bottom, #e1f5fe, #b3e5fc); /* Azul claro degradado */
            margin: 0;
            padding: 0;
        }

        header {
            background-color: #0288d1; /* Azul */
            color: white;
            text-align: center;
            padding: 20px;
            font-size: 24px;
        }

        nav {
            background-color: #03a9f4; /* Azul claro */
            text-align: center;
            padding: 10px;
        }

        nav a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #0288d1; /* Azul */
            margin-bottom: 20px;
            font-size: 20px;
        }

        form {
            max-width: 600px;
            margin: 0 auto;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            color: #333; /* Gris oscuro */
            margin-bottom: 5px;
            font-size: 16px;
        }

        .input-group input[type="number"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
            font-size: 16px;
        }

        button {
            background-color: #0288d1; /* Azul */
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }

        button:hover {
            background-color: #01579b; /* Azul más oscuro al pasar el ratón */
        }

        #charging-time-result {
            margin-top: 20px;
            color: #333; /* Gris oscuro */
            font-size: 16px;
        }
    </style>
</head>
<body>
    <header>
        <h1>Portal de Vehículos Eléctricos</h1>
    </header>
    <nav>
        <a href="index.html">Inicio</a>
        <a href="calculadora.html">Calculadora Eléctrica</a>
        <a href="recarga.html">Puntos de Recarga</a>
    </nav>
    <div class="container">
        <h2>Calculadora Eléctrica</h2>
        <form id="calculator-form">
            <div class="input-group">
                <label for="car-brand">Marca:</label>
                <select id="car-brand" onchange="populateCarModels()">
                    <option value="">Seleccione una marca</option>
                </select>
            </div>
            <div class="input-group">
                <label for="car-model">Modelo:</label>
                <select id="car-model" onchange="updateBatteryCapacity()">
                    <option value="">Seleccione un modelo</option>
                </select>
            </div>
            <div class="input-group">
                <label for="battery-capacity">Capacidad de Batería (kWh):</label>
                <input type="number" id="battery-capacity" name="battery-capacity" min="0" step="0.01" readonly>
            </div>
            <div class="input-group">
                <label for="charging-power">Potencia de Carga (kW):</label>
                <input type="number" id="charging-power" name="charging-power" min="1" max="350" step="0.1" required>
            </div>
            <div class="input-group">
                <label for="current-charge">Carga Actual (%):</label>
                <input type="number" id="current-charge" name="current-charge" min="0" max="100" step="1" required>
            </div>
            <div class="input-group">
                <label for="desired-charge">Carga Deseada (%):</label>
                <input type="number" id="desired-charge" name="desired-charge" min="0" max="100" step="1" required>
            </div>
            <div class="input-group">
                <label for="price">Precio (€/kWh):</label>
                <input type="number" id="price" name="price" min="0" max="2" step="0.01" required>
            </div>
            <div class="input-group">
                <label for="energy-consumption">Consumo (kWh):</label>
                <input type="number" id="energy-consumption" name="energy-consumption" min="0" step="0.01" required>
            </div>
            <div class="input-group">
                <button type="button" onclick="calculateAndDisplay()">Calcular</button>
            </div>
            <div id="charging-time-result"></div>
        </form>
    </div>
    <script>
        async function populateCarBrands() {
            const response = await fetch('https://raw.githubusercontent.com/Angelzgz/angelzgz.github.io/main/MARCASYMODELOSve.csv');
            const data = await response.text();
            const brands = new Set();
            data.split('\n').slice(1).forEach(row => {
                const brand = row.split(',')[0].replace(/"/g, '').trim();
                brands.add(brand);
            });
            const brandSelect = document.getElementById('car-brand');
            brands.forEach(brand => {
                const option = document.createElement('option');
                option.text = brand;
                brandSelect.add(option);
            });
        }

        async function populateCarModels() {
            const brand = document.getElementById('car-brand').value;
            const response = await fetch('https://raw.githubusercontent.com/Angelzgz/angelzgz.github.io/main/MARCASYMODELOSve.csv');
            const data = await response.text();
            const rows = data.split('\n').slice(1);
            const models = new Set();
            let batteryCapacity = '';
            rows.forEach(row => {
                const [rowBrand, model, , , , , , , , capacity] = row.split(',').map(item => item.trim().replace(/"/g, ''));
                if (rowBrand === brand) {
                    models.add(model);
                    if (!batteryCapacity && model !== 'undefined') {
                        batteryCapacity = capacity;
                    }
                }
            });
            const modelSelect = document.getElementById('car-model');
            modelSelect.innerHTML = '<option value="">Seleccione un modelo</option>';
            models.forEach(model => {
                const option = document.createElement('option');
                option.text = model;
                modelSelect.add(option);
            });
            document.getElementById('battery-capacity').value = batteryCapacity;
        }

        async function updateBatteryCapacity() {
            const model = document.getElementById('car-model').value;
            const response = await fetch('https://raw.githubusercontent.com/Angelzgz/angelzgz.github.io/main/MARCASYMODELOSve.csv');
            const data = await response.text();
            const rows = data.split('\n').slice(1);
            let batteryCapacity = '';
            rows.forEach(row => {
                const [rowBrand, rowModel, , , , , , , , capacity] = row.split(',').map(item => item.trim().replace(/"/g, ''));
                if (rowModel === model) {
                    batteryCapacity = capacity;
                }
            });
            document.getElementById('battery-capacity').value = batteryCapacity;
        }

        function calculateAndDisplay() {
            // Aquí va tu código para calcular y mostrar los resultados
        }

        window.onload = function () {
            populateCarBrands();
        };
    </script>
</body>
</html>







